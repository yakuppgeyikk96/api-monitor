<aside
  class="fixed left-0 top-0 h-screen bg-white border-r border-gray-200 flex flex-col transition-all duration-300 ease-in-out z-20"
  [style.width]="sidebarService.width()"
>
  <!-- Logo + Toggle -->
  <div class="h-16 flex items-center justify-between border-b border-gray-200 shrink-0 overflow-hidden"
    [class.px-5]="!sidebarService.collapsed()"
    [class.justify-center]="sidebarService.collapsed()"
  >
    @if (!sidebarService.collapsed()) {
      <span class="text-lg font-bold text-indigo-600 whitespace-nowrap">API Monitor</span>
    }
    <button
      (click)="sidebarService.toggle()"
      class="flex items-center justify-center size-9 rounded-lg text-gray-500 hover:bg-gray-100 hover:text-gray-700 transition-all duration-300 ease-in-out"
    >
      @if (sidebarService.collapsed()) {
        <app-panel-left-open-icon [size]="20" />
      } @else {
        <app-panel-left-close-icon [size]="20" />
      }
    </button>
  </div>

  <!-- Navigation -->
  <nav class="flex-1 py-4">
    @for (item of navItems; track item.path) {
      <a
        [routerLink]="item.path"
        routerLinkActive="border-l-3 border-indigo-600 bg-indigo-50 text-indigo-600"
        #rla="routerLinkActive"
        class="flex items-center h-11 border-l-3 transition-all duration-300 ease-in-out"
        [class]="rla.isActive
          ? 'border-indigo-600 bg-indigo-50 text-indigo-600'
          : 'border-transparent text-gray-600 hover:bg-gray-50 hover:text-gray-900'"
        [class.justify-center]="sidebarService.collapsed()"
        [class.px-5]="!sidebarService.collapsed()"
        [class.gap-3]="!sidebarService.collapsed()"
      >
        <ng-container [ngComponentOutlet]="item.icon" [ngComponentOutletInputs]="{ size: 20 }" />
        @if (!sidebarService.collapsed()) {
          <span class="text-sm font-medium whitespace-nowrap">{{ item.label }}</span>
        }
      </a>
    }
  </nav>
</aside>
